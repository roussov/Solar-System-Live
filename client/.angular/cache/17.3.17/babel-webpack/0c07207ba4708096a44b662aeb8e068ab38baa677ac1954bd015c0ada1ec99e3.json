{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nlet PlanetInfoPanelComponent = class PlanetInfoPanelComponent {\n  constructor() {\n    /**\n     * Événement émis lorsque l’utilisateur ferme le panneau.\n     */\n    this.close = new EventEmitter();\n    /**\n     * Constances physiques de référence (ordre de grandeur).\n     * Utilisées pour les valeurs relatives.\n     */\n    this.earthRadiusKm = 6371; // rayon moyen Terre\n    this.earthMassKg = 5.97237e24; // masse Terre\n    this.auInKm = 149_597_870.7; // 1 UA ≈ 149 597 870.7 km\n    /**\n     * Valeurs dérivées pour l’affichage.\n     */\n    this.relativeRadiusEarth = null;\n    this.relativeMassEarth = null;\n    this.averageDistanceKm = null;\n  }\n  /**\n   * Déclenché à chaque changement d’@Input (notamment la planète sélectionnée).\n   */\n  ngOnChanges(changes) {\n    if (changes['planet'] && this.planet) {\n      this.recalculateDerived();\n    }\n  }\n  /**\n   * Recalcule les valeurs dérivées en fonction de la planète courante.\n   */\n  recalculateDerived() {\n    if (!this.planet) {\n      this.relativeRadiusEarth = null;\n      this.relativeMassEarth = null;\n      this.averageDistanceKm = null;\n      return;\n    }\n    this.relativeRadiusEarth = this.planet.radiusKm / this.earthRadiusKm;\n    this.relativeMassEarth = this.planet.massKg / this.earthMassKg;\n    this.averageDistanceKm = this.planet.semiMajorAxisAU * this.auInKm;\n  }\n  /**\n   * Type de planète (description textuelle simple).\n   * Utile si tu veux l’exploiter dans le template (chip, tooltip, etc.).\n   */\n  get planetTypeLabel() {\n    const name = this.planet?.name;\n    switch (name) {\n      case 'mercury':\n      case 'venus':\n      case 'earth':\n      case 'mars':\n        return 'Planète tellurique';\n      case 'jupiter':\n      case 'saturn':\n        return 'Géante gazeuse';\n      case 'uranus':\n      case 'neptune':\n        return 'Géante de glace';\n      default:\n        return 'Planète';\n    }\n  }\n  /**\n   * Gestion du clic sur le bouton de fermeture.\n   */\n  onClose() {\n    this.close.emit();\n  }\n};\n__decorate([Input()], PlanetInfoPanelComponent.prototype, \"planet\", void 0);\n__decorate([Output()], PlanetInfoPanelComponent.prototype, \"close\", void 0);\nPlanetInfoPanelComponent = __decorate([Component({\n  selector: 'app-planet-info-panel',\n  templateUrl: './planet-info-panel.component.html',\n  styleUrls: ['./planet-info-panel.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})], PlanetInfoPanelComponent);\nexport { PlanetInfoPanelComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}