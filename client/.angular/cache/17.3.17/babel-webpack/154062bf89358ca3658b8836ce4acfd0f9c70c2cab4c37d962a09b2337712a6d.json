{"ast":null,"code":"import { interval, startWith, switchMap, finalize } from 'rxjs';\nimport { VoyagerData } from '../../models/voyager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/planet.service\";\nimport * as i2 from \"../../services/real-ephemeris.service\";\nimport * as i3 from \"../../services/voyager.service\";\nimport * as i4 from \"../../services/dsn.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../planet-info-panel/planet-info-panel.component\";\nfunction SolarSystemComponent_div_3_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Motif : \", ctx_r0.freezeReason, \".\");\n  }\n}\nfunction SolarSystemComponent_div_3_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Fra\\u00EEcheur : \", ctx_r0.freshnessLabel, \".\");\n  }\n}\nfunction SolarSystemComponent_div_3_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Requ\\u00EAte #\", ctx_r0.lastRequestId, \"\");\n  }\n}\nfunction SolarSystemComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61)(1, \"div\", 62);\n    i0.ɵɵtext(2, \"Donn\\u00E9es gel\\u00E9es (snapshot)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \" Les derni\\u00E8res \\u00E9ph\\u00E9m\\u00E9rides valides sont r\\u00E9utilis\\u00E9es car Horizons est indisponible. \");\n    i0.ɵɵtemplate(5, SolarSystemComponent_div_3_span_5_Template, 2, 1, \"span\", 18)(6, SolarSystemComponent_div_3_span_6_Template, 2, 1, \"span\", 18)(7, SolarSystemComponent_div_3_span_7_Template, 2, 1, \"span\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.freezeReason);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.freshnessLabel);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.lastRequestId);\n  }\n}\nfunction SolarSystemComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63)(1, \"div\", 62);\n    i0.ɵɵtext(2, \"Erreur API Horizons\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nfunction SolarSystemComponent_span_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" R\\u00E9f\\u00E9rence : \", ctx_r0.lastUpdateTimestamp, \" \");\n  }\n}\nfunction SolarSystemComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 64)(1, \"label\")(2, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function SolarSystemComponent_div_38_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onToggleOrbitPlanes($event.target.checked));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Plans orbitaux visibles \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\")(5, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function SolarSystemComponent_div_38_Template_input_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onTogglePlanetAxes($event.target.checked));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" Axes plan\\u00E9taires \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\")(8, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function SolarSystemComponent_div_38_Template_input_change_8_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onToggleShadows($event.target.checked));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" Ombres port\\u00E9es \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", ctx_r0.showOrbitalPlanes);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r0.showPlanetAxes);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r0.showShadows);\n  }\n}\nfunction SolarSystemComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"div\", 66);\n    i0.ɵɵelement(2, \"span\", 67);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function SolarSystemComponent_div_39_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.clearFocus());\n    });\n    i0.ɵɵtext(5, \"Vue globale\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const focus_r4 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", focus_r4.color);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Vue centr\\u00E9e sur \", focus_r4.displayName, \" \");\n  }\n}\nfunction SolarSystemComponent_div_40_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Latence API : \", i0.ɵɵpipeBind2(2, 1, ctx_r0.metadata == null ? null : ctx_r0.metadata.responseTimeMs, \"1.0-0\"), \" ms\");\n  }\n}\nfunction SolarSystemComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 68)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, SolarSystemComponent_div_40_div_7_Template, 3, 4, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Source : \", (ctx_r0.metadata == null ? null : ctx_r0.metadata.source) || \"NASA-JPL-Horizons\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Rep\\u00E8re : \", (ctx_r0.metadata == null ? null : ctx_r0.metadata.referenceFrame) || \"J2000-ECLIPTIC\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Unit\\u00E9s : \", (ctx_r0.metadata == null ? null : ctx_r0.metadata.distanceUnit) || \"AU\", \" / \", (ctx_r0.metadata == null ? null : ctx_r0.metadata.velocityUnit) || \"AU/day\", \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.metadata == null ? null : ctx_r0.metadata.responseTimeMs);\n  }\n}\nfunction SolarSystemComponent_button_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function SolarSystemComponent_button_42_Template_button_click_0_listener() {\n      const p_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onLegendSelect(p_r6));\n    });\n    i0.ɵɵelement(1, \"span\", 70);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r6 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", (ctx_r0.selectedPlanet == null ? null : ctx_r0.selectedPlanet.name) === p_r6.name || ctx_r0.focusPlanetName === p_r6.name);\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"background\", p_r6.color);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", p_r6.displayName, \" \");\n  }\n}\nfunction SolarSystemComponent__svg_g_54__svg_ellipse_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"ellipse\", 73);\n  }\n  if (rf & 2) {\n    const p_r7 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"cx\", ctx_r0.centerX)(\"cy\", ctx_r0.centerY)(\"rx\", ctx_r0.getOrbitRadiusPx(p_r7))(\"ry\", ctx_r0.getOrbitRadiusPx(p_r7) * ctx_r0.orbitPlaneCompression(p_r7));\n  }\n}\nfunction SolarSystemComponent__svg_g_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 71);\n    i0.ɵɵtemplate(1, SolarSystemComponent__svg_g_54__svg_ellipse_1_Template, 1, 4, \"ellipse\", 72);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.planets);\n  }\n}\nfunction SolarSystemComponent__svg_g_55__svg_circle_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"circle\", 76);\n  }\n  if (rf & 2) {\n    const p_r8 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"cx\", ctx_r0.centerX)(\"cy\", ctx_r0.centerY)(\"r\", ctx_r0.getOrbitRadiusPx(p_r8));\n  }\n}\nfunction SolarSystemComponent__svg_g_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 74);\n    i0.ɵɵtemplate(1, SolarSystemComponent__svg_g_55__svg_circle_1_Template, 1, 3, \"circle\", 75);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.planets);\n  }\n}\nfunction SolarSystemComponent__svg_g_56__svg_ellipse_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"ellipse\", 79);\n  }\n  if (rf & 2) {\n    const dp_r9 = ctx.$implicit;\n    i0.ɵɵattribute(\"cx\", dp_r9.shadow == null ? null : dp_r9.shadow.cx)(\"cy\", dp_r9.shadow == null ? null : dp_r9.shadow.cy)(\"rx\", dp_r9.shadow == null ? null : dp_r9.shadow.rx)(\"ry\", dp_r9.shadow == null ? null : dp_r9.shadow.ry);\n  }\n}\nfunction SolarSystemComponent__svg_g_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 77);\n    i0.ɵɵtemplate(1, SolarSystemComponent__svg_g_56__svg_ellipse_1_Template, 1, 4, \"ellipse\", 78);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.displayPlanets);\n  }\n}\nfunction SolarSystemComponent__svg_g_57__svg_line_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"line\", 82);\n  }\n  if (rf & 2) {\n    const dp_r10 = ctx.$implicit;\n    i0.ɵɵattribute(\"x1\", dp_r10.axis == null ? null : dp_r10.axis.x1)(\"y1\", dp_r10.axis == null ? null : dp_r10.axis.y1)(\"x2\", dp_r10.axis == null ? null : dp_r10.axis.x2)(\"y2\", dp_r10.axis == null ? null : dp_r10.axis.y2);\n  }\n}\nfunction SolarSystemComponent__svg_g_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 80);\n    i0.ɵɵtemplate(1, SolarSystemComponent__svg_g_57__svg_line_1_Template, 1, 4, \"line\", 81);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.displayPlanets);\n  }\n}\nfunction SolarSystemComponent__svg_circle_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"circle\", 83);\n    i0.ɵɵlistener(\"click\", function SolarSystemComponent__svg_circle_59_Template_circle_click_0_listener() {\n      const dp_r12 = i0.ɵɵrestoreView(_r11).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onPlanetClick(dp_r12.planet));\n    });\n    i0.ɵɵelementStart(1, \"title\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const dp_r12 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", dp_r12.isSelected)(\"focused\", dp_r12.isFocused);\n    i0.ɵɵattribute(\"cx\", dp_r12.x)(\"cy\", dp_r12.y)(\"r\", ctx_r0.planetRadiusToPixels(dp_r12.planet))(\"fill\", dp_r12.planet.color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dp_r12.planet.displayName);\n  }\n}\nfunction SolarSystemComponent__svg_g_60__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 86);\n    i0.ɵɵelement(1, \"line\")(2, \"line\")(3, \"circle\", 87);\n    i0.ɵɵelementStart(4, \"text\", 88);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"text\", 89);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r13 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x1\", v_r13.x - 8)(\"y1\", v_r13.y)(\"x2\", v_r13.x + 8)(\"y2\", v_r13.y)(\"stroke\", v_r13.color);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x1\", v_r13.x)(\"y1\", v_r13.y - 8)(\"x2\", v_r13.x)(\"y2\", v_r13.y + 8)(\"stroke\", v_r13.color);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"cx\", v_r13.x)(\"cy\", v_r13.y)(\"fill\", v_r13.color);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x\", v_r13.x + 10)(\"y\", v_r13.y - 6);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", v_r13.name, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x\", v_r13.x + 10)(\"y\", v_r13.y + 8);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", v_r13.distanceLabel, \" \");\n  }\n}\nfunction SolarSystemComponent__svg_g_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 84);\n    i0.ɵɵtemplate(1, SolarSystemComponent__svg_g_60__svg_g_1_Template, 8, 19, \"g\", 85);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.voyagerMarkers);\n  }\n}\nfunction SolarSystemComponent_div_69_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function SolarSystemComponent_div_69_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.centerOnSelected());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Centrer sur \", ctx_r0.selectedPlanet.displayName, \"\");\n  }\n}\nfunction SolarSystemComponent_div_69_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function SolarSystemComponent_div_69_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.clearFocus());\n    });\n    i0.ɵɵtext(1, \"Vue globale\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SolarSystemComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 90);\n    i0.ɵɵtemplate(1, SolarSystemComponent_div_69_button_1_Template, 2, 1, \"button\", 91)(2, SolarSystemComponent_div_69_button_2_Template, 2, 0, \"button\", 92);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedPlanet);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.focusPlanetName);\n  }\n}\nfunction SolarSystemComponent_app_planet_info_panel_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-planet-info-panel\", 93);\n    i0.ɵɵlistener(\"close\", function SolarSystemComponent_app_planet_info_panel_70_Template_app_planet_info_panel_close_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onCloseInfo());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"planet\", ctx_r0.selectedPlanet);\n  }\n}\nfunction SolarSystemComponent_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 94)(1, \"p\");\n    i0.ɵɵtext(2, \" Cliquez sur une plan\\u00E8te dans la vue pour afficher ses caract\\u00E9ristiques physiques et orbitales. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SolarSystemComponent_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 95);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.voyagerSourceBadge);\n  }\n}\nfunction SolarSystemComponent_div_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63)(1, \"div\", 62);\n    i0.ɵɵtext(2, \"Voyager indisponible\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.voyagerError);\n  }\n}\nfunction SolarSystemComponent_div_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 96);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.copyMessage, \" \");\n  }\n}\nfunction SolarSystemComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.copyMessage, \" \");\n  }\n}\nfunction SolarSystemComponent_div_90_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 96)(1, \"div\", 62);\n    i0.ɵɵtext(2, \"DSN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.dsnError);\n  }\n}\nfunction SolarSystemComponent_div_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"div\", 98);\n    i0.ɵɵtext(2, \"Comparatif express\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 99)(4, \"div\", 100)(5, \"div\", 101);\n    i0.ɵɵtext(6, \"Param\\u00E8tre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 101);\n    i0.ɵɵtext(8, \"Voyager 1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 101);\n    i0.ɵɵtext(10, \"Voyager 2\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 102)(12, \"div\", 103);\n    i0.ɵɵtext(13, \"Distance Soleil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 101);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 101);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 102)(21, \"div\", 103);\n    i0.ɵɵtext(22, \"Distance Terre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 101);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 101);\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 102)(30, \"div\", 103);\n    i0.ɵɵtext(31, \"Vitesse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 101);\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 101);\n    i0.ɵɵtext(36);\n    i0.ɵɵpipe(37, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\", 102)(39, \"div\", 103);\n    i0.ɵɵtext(40, \"Latitude \\u00E9cliptique\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 101);\n    i0.ɵɵtext(42);\n    i0.ɵɵpipe(43, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 101);\n    i0.ɵɵtext(45);\n    i0.ɵɵpipe(46, \"number\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(16, 8, ctx_r0.voyagerViews[0].distanceFromSun.km, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(19, 11, ctx_r0.voyagerViews[1].distanceFromSun.km, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(25, 14, ctx_r0.voyagerViews[0].distanceFromEarth.km, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(28, 17, ctx_r0.voyagerViews[1].distanceFromEarth.km, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(34, 20, ctx_r0.voyagerViews[0].speed.kmPerS, \"1.2-2\"), \" km/s\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(37, 23, ctx_r0.voyagerViews[1].speed.kmPerS, \"1.2-2\"), \" km/s\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(43, 26, ctx_r0.voyagerViews[0].trajectory.eclipticLatDeg, \"1.1-1\"), \"\\u00B0\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(46, 29, ctx_r0.voyagerViews[1].trajectory.eclipticLatDeg, \"1.1-1\"), \"\\u00B0\");\n  }\n}\nfunction SolarSystemComponent_div_93_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 121);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Depuis le lancement : \", v_r17.sinceLaunchLabel, \" \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Rep\\u00E8re : \", v_r17.referenceFrame, \"\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Ts : \", v_r17.timestamp, \"\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Aller radio ~ \", i0.ɵɵpipeBind2(2, 1, v_r17.lightTime.oneWayMinutes, \"1.1-1\"), \" min \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" RT ~ \", i0.ɵɵpipeBind2(2, 1, v_r17.lightTime.twoWayMinutes, \"1.1-1\"), \" min \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 1, v_r17.distanceFromSun.km, \"1.0-0\"), \" km\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 122);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u00B7 \", i0.ɵɵpipeBind2(2, 1, v_r17.distanceFromSun.au, \"1.3-3\"), \" UA\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 1, v_r17.distanceFromEarth.km, \"1.0-0\"), \" km\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 122);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u00B7 \", i0.ɵɵpipeBind2(2, 1, v_r17.distanceFromEarth.au, \"1.3-3\"), \" UA\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 123);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Aller radio \\u2248 \", i0.ɵɵpipeBind2(2, 1, v_r17.distanceFromEarth.lightTimeMin, \"1.1-1\"), \" min \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"One-way \", i0.ɵɵpipeBind2(2, 1, v_r17.lightTime.oneWayMinutes, \"1.1-1\"), \" min\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u00B7 RT \", i0.ɵɵpipeBind2(2, 1, v_r17.lightTime.twoWayMinutes, \"1.1-1\"), \" min\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 122);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" (DSN rtlt \", i0.ɵɵpipeBind2(2, 1, v_r17.communication.rtltSeconds / 60, \"1.1-1\"), \" min) \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Lat \\u00E9cliptique \", i0.ɵɵpipeBind2(2, 1, v_r17.trajectory.eclipticLatDeg, \"1.1-1\"), \"\\u00B0\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u00B7 Lon \", i0.ɵɵpipeBind2(2, 1, v_r17.trajectory.eclipticLonDeg, \"1.1-1\"), \"\\u00B0\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 123);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Cap vitesse \", i0.ɵɵpipeBind2(2, 1, v_r17.trajectory.velocityAzimuthDeg, \"1.0-0\"), \"\\u00B0 \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 123);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Inclinaison \", i0.ɵɵpipeBind2(2, 1, v_r17.trajectory.velocityLatDeg, \"1.1-1\"), \"\\u00B0 \");\n  }\n}\nfunction SolarSystemComponent_div_93_span_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 1, v_r17.speed.kmPerS, \"1.2-2\"), \" km/s\");\n  }\n}\nfunction SolarSystemComponent_div_93_span_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 122);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u00B7 \", i0.ɵɵpipeBind2(2, 1, v_r17.speed.auPerDay, \"1.4-4\"), \" UA/j\");\n  }\n}\nfunction SolarSystemComponent_div_93_div_50_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Bande \", v_r17.communication.band, \"\");\n  }\n}\nfunction SolarSystemComponent_div_93_div_50_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 1, v_r17.communication.downlinkRate, \"1.0-0\"), \" bps\");\n  }\n}\nfunction SolarSystemComponent_div_93_div_50_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Puissance \", i0.ɵɵpipeBind2(2, 1, v_r17.communication.snrDb, \"1.0-1\"), \" dBm\");\n  }\n}\nfunction SolarSystemComponent_div_93_div_50_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 122);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"(\", v_r17.communication.activity, \")\");\n  }\n}\nfunction SolarSystemComponent_div_93_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 113)(1, \"div\", 124)(2, \"span\", 125);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, SolarSystemComponent_div_93_div_50_span_4_Template, 2, 1, \"span\", 18)(5, SolarSystemComponent_div_93_div_50_span_5_Template, 3, 4, \"span\", 18)(6, SolarSystemComponent_div_93_div_50_span_6_Template, 3, 4, \"span\", 18)(7, SolarSystemComponent_div_93_div_50_span_7_Template, 2, 1, \"span\", 114);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", (v_r17.communication == null ? null : v_r17.communication.station) || \"Station inconnue\", \" \\u00B7 \", v_r17.communication == null ? null : v_r17.communication.dish, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.communication == null ? null : v_r17.communication.band);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (v_r17.communication == null ? null : v_r17.communication.downlinkRate) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (v_r17.communication == null ? null : v_r17.communication.snrDb) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.communication == null ? null : v_r17.communication.activity);\n  }\n}\nfunction SolarSystemComponent_div_93_ng_template_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 126);\n    i0.ɵɵtext(1, \"Pas de contact actif dans DSN Now.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SolarSystemComponent_div_93_div_53_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 129)(1, \"div\", 130);\n    i0.ɵɵtext(2, \"Distance (24h)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(3, \"svg\", 131);\n    i0.ɵɵelement(4, \"path\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵattribute(\"d\", v_r17.spark24hPath);\n  }\n}\nfunction SolarSystemComponent_div_93_div_53_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 129)(1, \"div\", 130);\n    i0.ɵɵtext(2, \"Distance (7 j)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(3, \"svg\", 131);\n    i0.ɵɵelement(4, \"path\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵattribute(\"d\", v_r17.spark7dPath);\n  }\n}\nfunction SolarSystemComponent_div_93_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 127);\n    i0.ɵɵtemplate(1, SolarSystemComponent_div_93_div_53_div_1_Template, 5, 1, \"div\", 128)(2, SolarSystemComponent_div_93_div_53_div_2_Template, 5, 1, \"div\", 128);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.spark24hPath);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.spark7dPath);\n  }\n}\nfunction SolarSystemComponent_div_93_div_54_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 136);\n    i0.ɵɵelement(1, \"span\", 137);\n    i0.ɵɵelementStart(2, \"span\", 112);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 138);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const m_r18 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(m_r18.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r18.since);\n  }\n}\nfunction SolarSystemComponent_div_93_div_54_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 121);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Distance franchie ~ \", i0.ɵɵpipeBind2(2, 1, v_r17.distanceSinceLaunchKm, \"1.0-0\"), \" km \");\n  }\n}\nfunction SolarSystemComponent_div_93_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 132)(1, \"div\", 133);\n    i0.ɵɵtext(2, \"Jalons\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 134);\n    i0.ɵɵtemplate(4, SolarSystemComponent_div_93_div_54_div_4_Template, 6, 2, \"div\", 135);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, SolarSystemComponent_div_93_div_54_div_5_Template, 3, 4, \"div\", 108);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", v_r17.milestones);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.distanceSinceLaunchKm !== null);\n  }\n}\nfunction SolarSystemComponent_div_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 104)(1, \"div\", 105)(2, \"div\", 106);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 107);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, SolarSystemComponent_div_93_div_6_Template, 2, 1, \"div\", 108);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 109);\n    i0.ɵɵtemplate(8, SolarSystemComponent_div_93_span_8_Template, 2, 1, \"span\", 18)(9, SolarSystemComponent_div_93_span_9_Template, 2, 1, \"span\", 18)(10, SolarSystemComponent_div_93_span_10_Template, 3, 4, \"span\", 18)(11, SolarSystemComponent_div_93_span_11_Template, 3, 4, \"span\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 110)(13, \"div\", 111)(14, \"div\", 112);\n    i0.ɵɵtext(15, \"Distance Soleil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 113);\n    i0.ɵɵtemplate(17, SolarSystemComponent_div_93_span_17_Template, 3, 4, \"span\", 18)(18, SolarSystemComponent_div_93_span_18_Template, 3, 4, \"span\", 114);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 111)(20, \"div\", 112);\n    i0.ɵɵtext(21, \"Distance Terre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 113);\n    i0.ɵɵtemplate(23, SolarSystemComponent_div_93_span_23_Template, 3, 4, \"span\", 18)(24, SolarSystemComponent_div_93_span_24_Template, 3, 4, \"span\", 114)(25, SolarSystemComponent_div_93_span_25_Template, 3, 4, \"span\", 115);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 111)(27, \"div\", 112);\n    i0.ɵɵtext(28, \"Aller/retour lumi\\u00E8re\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 113);\n    i0.ɵɵtemplate(30, SolarSystemComponent_div_93_span_30_Template, 3, 4, \"span\", 18)(31, SolarSystemComponent_div_93_span_31_Template, 3, 4, \"span\", 18)(32, SolarSystemComponent_div_93_span_32_Template, 3, 4, \"span\", 114);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 111)(34, \"div\", 112);\n    i0.ɵɵtext(35, \"Trajectoire\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 116);\n    i0.ɵɵtemplate(37, SolarSystemComponent_div_93_span_37_Template, 3, 4, \"span\", 18)(38, SolarSystemComponent_div_93_span_38_Template, 3, 4, \"span\", 18)(39, SolarSystemComponent_div_93_span_39_Template, 3, 4, \"span\", 115)(40, SolarSystemComponent_div_93_span_40_Template, 3, 4, \"span\", 115);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"div\", 111)(42, \"div\", 112);\n    i0.ɵɵtext(43, \"Vitesse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 113);\n    i0.ɵɵtemplate(45, SolarSystemComponent_div_93_span_45_Template, 3, 4, \"span\", 18)(46, SolarSystemComponent_div_93_span_46_Template, 3, 4, \"span\", 114);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"div\", 117)(48, \"div\", 112);\n    i0.ɵɵtext(49, \"DSN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(50, SolarSystemComponent_div_93_div_50_Template, 8, 6, \"div\", 118)(51, SolarSystemComponent_div_93_ng_template_51_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(53, SolarSystemComponent_div_93_div_53_Template, 3, 2, \"div\", 119)(54, SolarSystemComponent_div_93_div_54_Template, 6, 2, \"div\", 120);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r17 = ctx.$implicit;\n    const noComm_r19 = i0.ɵɵreference(52);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(v_r17.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Horizons ID : \", v_r17.horizonsId, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.sinceLaunchLabel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", v_r17.referenceFrame);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.timestamp);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.lightTime.oneWayMinutes !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.lightTime.twoWayMinutes !== null);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", v_r17.distanceFromSun.km !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.distanceFromSun.au !== null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", v_r17.distanceFromEarth.km !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.distanceFromEarth.au !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.distanceFromEarth.lightTimeMin !== null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", v_r17.lightTime.oneWayMinutes !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.lightTime.twoWayMinutes !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.communication == null ? null : v_r17.communication.rtltSeconds);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", v_r17.trajectory.eclipticLatDeg !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.trajectory.eclipticLonDeg !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.trajectory.velocityAzimuthDeg !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.trajectory.velocityLatDeg !== null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", v_r17.speed.kmPerS !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.speed.auPerDay !== null);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", v_r17.communication)(\"ngIfElse\", noComm_r19);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", v_r17.spark24hPath || v_r17.spark7dPath);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", v_r17.milestones == null ? null : v_r17.milestones.length);\n  }\n}\nconst VOYAGER_MISSION = {\n  voyager1: {\n    launch: '1977-09-05T12:56:00Z',\n    events: [{\n      label: 'Jupiter (survol)',\n      date: '1979-03-05T00:00:00Z'\n    }, {\n      label: 'Saturne (survol)',\n      date: '1980-11-12T00:00:00Z'\n    }, {\n      label: 'Héliopause',\n      date: '2012-08-25T00:00:00Z'\n    }]\n  },\n  voyager2: {\n    launch: '1977-08-20T14:29:00Z',\n    events: [{\n      label: 'Jupiter (survol)',\n      date: '1979-07-09T00:00:00Z'\n    }, {\n      label: 'Saturne (survol)',\n      date: '1981-08-26T00:00:00Z'\n    }, {\n      label: 'Uranus (survol)',\n      date: '1986-01-24T00:00:00Z'\n    }, {\n      label: 'Neptune (survol)',\n      date: '1989-08-25T00:00:00Z'\n    }]\n  }\n};\nconst MS_PER_DAY = 86_400_000;\nconst KM_PER_AU = 149_597_870.7;\nconst SPEED_OF_LIGHT_KM_S = 299_792.458;\nconst VOYAGER_COLORS = {\n  voyager1: '#7fe3ff',\n  voyager2: '#ffb347'\n};\nexport let SolarSystemComponent = /*#__PURE__*/(() => {\n  class SolarSystemComponent {\n    constructor(planetService, ephemerisService, voyagerService, dsnService) {\n      this.planetService = planetService;\n      this.ephemerisService = ephemerisService;\n      this.voyagerService = voyagerService;\n      this.dsnService = dsnService;\n      /**\n       * Métadonnées des planètes (rayon, masse, demi-grand axe…).\n       * Fournies par PlanetService (valeurs physiques “moyennes”).\n       */\n      this.planets = [];\n      /**\n       * Planète actuellement sélectionnée (pour affichage dans PlanetInfoPanel).\n       */\n      this.selectedPlanet = null;\n      /**\n       * Données projetées sur l’écran (positions en pixels) dérivées\n       * des éphémérides réelles fournies par le backend.\n       */\n      this.displayPlanets = [];\n      /**\n       * Dimensions logiques du SVG (viewBox).\n       * Elles peuvent être ajustées sur resize pour rester responsives.\n       */\n      this.width = 800;\n      this.height = 800;\n      this.centerX = this.width / 2;\n      this.centerY = this.height / 2;\n      /**\n       * Mode de vue : 2D (vue du dessus) ou 3D (projection oblique).\n       * Ne modifie que la projection, pas les coordonnées physiques (X,Y,Z).\n       */\n      this.viewMode = '2d';\n      /**\n       * Timelapse : décalage temporel (en jours) appliqué aux éphémérides reçues.\n       * Un slider permet d’avancer/reculer d’un an, avec des pas jour/semaine/mois.\n       */\n      this.timeOffsetDays = 0;\n      this.maxTimeOffsetDays = 365;\n      this.timeStepDays = 1;\n      /**\n       * Options d’affichage avancées en vue 3D.\n       */\n      this.showOrbitalPlanes = true;\n      this.showPlanetAxes = true;\n      this.showShadows = true;\n      /**\n       * Angle de caméra utilisé en projection 3D (rotation dans le plan Y–Z).\n       */\n      this.cameraAngleRad = Math.PI / 6; // ≈ 30°\n      /**\n       * Longueur (en pixels) correspondant à 1 UA dans l’échelle radiale compressée.\n       * Affichée dans la barre d’échelle.\n       */\n      this.oneAuPixels = 0;\n      /**\n       * Valeur max du demi-grand axe (en UA) parmi les planètes.\n       * Sert de référence pour compresser l’échelle radiale (Neptune ~ max).\n       */\n      this.maxSemiMajorAxisAu = 30.1; // valeur par défaut, réajustée en ngOnInit\n      this.focusPlanetName = null;\n      /**\n       * Dernier snapshot d’éphémérides reçu (positions réelles).\n       * Permet de recalculer l’affichage sur changement de mode ou resize\n       * sans réinterroger le backend.\n       */\n      this.lastSnapshot = null;\n      this.metadata = null;\n      this.snapshotReceivedAt = null;\n      this.lastLatencyTimestamp = null;\n      this.autoRefreshEnabled = true;\n      this.refreshIntervalMs = 60_000;\n      this.lastCacheStatus = null;\n      this.lastCacheBackend = null;\n      this.cacheAgeMs = null;\n      this.cacheTtlMs = null;\n      this.currentLatencyMs = null;\n      this.frozenSnapshot = false;\n      this.freezeReason = null;\n      this.lastRequestId = null;\n      this.lastVoyagerRequestId = null;\n      this.lastVoyagerTimestamp = null;\n      this.voyagers = [];\n      this.voyagerViews = [];\n      this.voyagerError = null;\n      this.voyagerLoading = false;\n      this.voyagerMarkers = [];\n      this.copyStatus = 'idle';\n      this.copyMessage = null;\n      this.dsnContacts = [];\n      this.dsnError = null;\n      this.animationFrameId = null;\n      this.enableInertialPlayback = true;\n      this.msPerDay = 86_400_000;\n      this.latencySumMs = 0;\n      this.latencyCount = 0;\n      this.lastPanX = 0;\n      this.lastPanY = 0;\n      /**\n       * Indicateur de chargement (optionnel, au cas où tu veux l’exploiter dans le template).\n       */\n      this.isLoading = false;\n      /**\n       * Message d’erreur éventuel lors de l’appel au backend.\n       */\n      this.errorMessage = null;\n      /**\n       * Timestamp de la dernière mise à jour (vient du backend).\n       */\n      this.lastUpdateTimestamp = null;\n    }\n    // ---------------------------------------------------------------------------\n    // Cycle de vie\n    // ---------------------------------------------------------------------------\n    ngOnInit() {\n      this.planets = this.planetService.getPlanets();\n      // Détermine le plus grand demi-grand axe pour l’échelle\n      this.maxSemiMajorAxisAu = this.planets.reduce((max, p) => p.semiMajorAxisAU > max ? p.semiMajorAxisAU : max, 0) || 30.1;\n      // Initialisation des dimensions (responsive basique)\n      this.updateDimensionsFromWindow();\n      this.oneAuPixels = this.distanceToPixels(1);\n      this.startAutoRefresh();\n      this.startVoyagerAutoRefresh();\n      this.startDsnAutoRefresh();\n    }\n    ngOnDestroy() {\n      this.stopAutoRefresh();\n      this.stopInertialAnimation();\n      this.stopVoyagerAutoRefresh();\n      this.stopDsnAutoRefresh();\n    }\n    // ---------------------------------------------------------------------------\n    // Rafraîchissement / appels API\n    // ---------------------------------------------------------------------------\n    fetchSnapshot(options) {\n      this.isLoading = true;\n      this.errorMessage = null;\n      return this.ephemerisService.getCurrentPlanetPositions(options).pipe(finalize(() => this.isLoading = false));\n    }\n    handleSnapshot(snapshot) {\n      this.errorMessage = null;\n      this.lastSnapshot = snapshot;\n      this.snapshotReceivedAt = Date.now();\n      this.metadata = snapshot.metadata ?? null;\n      this.lastUpdateTimestamp = snapshot.timestamp || new Date().toISOString();\n      this.frozenSnapshot = !!snapshot.metadata?.frozenSnapshot;\n      this.freezeReason = snapshot.metadata?.freezeReason ?? null;\n      this.lastRequestId = snapshot.metadata?.requestId ?? null;\n      this.trackLatency(snapshot);\n      this.trackCache(snapshot);\n      this.updateDisplayFromSnapshot(snapshot);\n      this.startInertialAnimation();\n      this.enrichVoyagerViews();\n    }\n    handleSnapshotError(err) {\n      console.error('Erreur éphémérides:', err);\n      this.errorMessage = 'Erreur lors de la récupération des positions réelles des planètes.';\n      if (this.lastSnapshot) {\n        this.frozenSnapshot = true;\n        this.freezeReason = 'Dernière réponse Horizons indisponible. Données précédentes affichées.';\n      }\n    }\n    fetchVoyagers() {\n      this.voyagerLoading = true;\n      this.voyagerError = null;\n      return this.voyagerService.getVoyagers().pipe(finalize(() => this.voyagerLoading = false));\n    }\n    handleVoyagers(snapshot) {\n      this.voyagerError = null;\n      this.voyagers = snapshot.voyagers ?? [];\n      this.lastVoyagerRequestId = snapshot.requestId ?? this.lastVoyagerRequestId;\n      this.lastRequestId = snapshot.requestId ?? this.lastRequestId;\n      this.lastVoyagerTimestamp = snapshot.timestamp ?? this.lastVoyagerTimestamp;\n      this.enrichVoyagerViews();\n    }\n    handleVoyagerError(err) {\n      console.error('Erreur Voyager:', err);\n      this.voyagerError = 'Impossible de récupérer les données Voyager pour le moment.';\n    }\n    startAutoRefresh() {\n      this.stopAutoRefresh();\n      this.autoRefreshEnabled = true;\n      this.ephemerisSub = interval(this.refreshIntervalMs).pipe(startWith(0), switchMap(() => this.fetchSnapshot())).subscribe({\n        next: snapshot => this.handleSnapshot(snapshot),\n        error: err => this.handleSnapshotError(err)\n      });\n    }\n    stopAutoRefresh() {\n      this.ephemerisSub?.unsubscribe();\n      this.ephemerisSub = undefined;\n    }\n    startVoyagerAutoRefresh() {\n      this.stopVoyagerAutoRefresh();\n      this.voyagerSub = interval(this.refreshIntervalMs * 5).pipe(startWith(0), switchMap(() => this.fetchVoyagers())).subscribe({\n        next: snapshot => this.handleVoyagers(snapshot),\n        error: err => this.handleVoyagerError(err)\n      });\n    }\n    stopVoyagerAutoRefresh() {\n      this.voyagerSub?.unsubscribe();\n      this.voyagerSub = undefined;\n    }\n    startDsnAutoRefresh() {\n      this.stopDsnAutoRefresh();\n      this.dsnSub = interval(this.refreshIntervalMs * 5).pipe(startWith(0), switchMap(() => this.dsnService.getContacts())).subscribe({\n        next: contacts => {\n          this.dsnError = null;\n          this.dsnContacts = contacts;\n          this.enrichVoyagerViews();\n        },\n        error: err => {\n          console.error('Erreur DSN:', err);\n          this.dsnError = 'Statut DSN indisponible pour le moment.';\n        }\n      });\n    }\n    stopDsnAutoRefresh() {\n      this.dsnSub?.unsubscribe();\n      this.dsnSub = undefined;\n    }\n    toggleAutoRefresh() {\n      if (this.autoRefreshEnabled) {\n        this.autoRefreshEnabled = false;\n        this.stopAutoRefresh();\n      } else {\n        this.startAutoRefresh();\n      }\n    }\n    triggerManualRefresh(forceNetwork = false) {\n      this.fetchSnapshot({\n        forceRefresh: forceNetwork\n      }).subscribe({\n        next: snapshot => this.handleSnapshot(snapshot),\n        error: err => this.handleSnapshotError(err)\n      });\n      // Rafraîchit aussi les données Voyager pour garder la cohérence temporelle\n      this.fetchVoyagers().subscribe({\n        next: snapshot => this.handleVoyagers(snapshot),\n        error: err => this.handleVoyagerError(err)\n      });\n      this.dsnService.getContacts().subscribe({\n        next: contacts => {\n          this.dsnContacts = contacts;\n          this.dsnError = null;\n          this.enrichVoyagerViews();\n        },\n        error: err => {\n          console.error('Erreur DSN:', err);\n          this.dsnError = 'Statut DSN indisponible pour le moment.';\n        }\n      });\n    }\n    // ---------------------------------------------------------------------------\n    // Gestion de la fenêtre (responsivité)\n    // ---------------------------------------------------------------------------\n    onWindowResize() {\n      this.updateDimensionsFromWindow();\n      this.oneAuPixels = this.distanceToPixels(1);\n      // Si on a déjà des données d’éphémérides, on recalcule les positions\n      if (this.lastSnapshot) {\n        this.updateDisplayFromSnapshot(this.lastSnapshot);\n      }\n    }\n    /**\n     * Ajuste la largeur/hauteur du SVG en fonction de la taille de la fenêtre,\n     * en gardant un canvas carré centré et une marge raisonnable.\n     */\n    updateDimensionsFromWindow() {\n      const viewportWidth = window.innerWidth || 1024;\n      const maxSvg = 800;\n      // Petite marge latérale pour ne pas coller au bord de la fenêtre\n      const targetWidth = Math.min(viewportWidth - 64, maxSvg);\n      this.width = targetWidth > 320 ? targetWidth : 320;\n      this.height = this.width; // carré\n      this.centerX = this.width / 2;\n      this.centerY = this.height / 2;\n    }\n    // ---------------------------------------------------------------------------\n    // Échelle & projection\n    // ---------------------------------------------------------------------------\n    /**\n     * Conversion d’une distance en UA vers une distance en pixels,\n     * en utilisant une compression radiale (sqrt) pour garder les planètes\n     * externes visibles dans le même cadre.\n     */\n    distanceToPixels(au) {\n      if (au <= 0) {\n        return 0;\n      }\n      const maxRadiusPx = Math.min(this.width, this.height) / 2 - 40;\n      const focus = this.focusPlanetName ? this.planets.find(p => p.name === this.focusPlanetName)?.semiMajorAxisAU : undefined;\n      const effectiveMaxAu = focus ? Math.max(focus * 1.6, 0.5) : this.maxSemiMajorAxisAu;\n      const maxAu = effectiveMaxAu || 30.1;\n      // Compression radiale : sqrt(au / maxAu) * rayon_max\n      const normalized = Math.sqrt(au / maxAu);\n      return normalized * maxRadiusPx;\n    }\n    /**\n     * Rayon visuel des planètes en pixels (tres compressé pour les géantes).\n     * Ici, on reste arbitraire sur le \"style\", mais toujours déterministe.\n     */\n    planetRadiusToPixels(planet) {\n      const base = 4;\n      const scale = 0.0005;\n      return base + planet.radiusKm * scale;\n    }\n    /**\n     * Rayon visuel des orbites, basé directement sur le demi-grand axe en UA.\n     */\n    getOrbitRadiusPx(planet) {\n      return this.distanceToPixels(planet.semiMajorAxisAU);\n    }\n    /**\n     * Changement de mode de vue (2D vs 3D).\n     * On ne change que la projection, pas les données physiques.\n     */\n    setViewMode(mode) {\n      if (this.viewMode === mode) {\n        return;\n      }\n      this.viewMode = mode;\n      // Si on dispose déjà d’un snapshot, on recalcule l’affichage\n      if (this.lastSnapshot) {\n        this.updateDisplayFromSnapshot(this.lastSnapshot);\n      }\n    }\n    /**\n     * Ajuste le pas du slider (1j / 7j / 30j).\n     */\n    setTimeStep(days) {\n      this.timeStepDays = days;\n    }\n    /**\n     * Mise à jour du décalage temporel via le slider.\n     */\n    onTimeOffsetChange(event) {\n      const value = Number(event.target.value);\n      this.timeOffsetDays = Number.isFinite(value) ? value : 0;\n      this.refreshDisplay();\n    }\n    /**\n     * Réinitialise le décalage temporel (retour à l’horodatage réel).\n     */\n    resetTimeOffset() {\n      this.timeOffsetDays = 0;\n      this.refreshDisplay();\n    }\n    // ---------------------------------------------------------------------------\n    // Rendu à partir des éphémérides réelles\n    // ---------------------------------------------------------------------------\n    /**\n     * Met à jour les positions affichées à partir d’un snapshot d’éphémérides.\n     * Les coordonnées (x, y, z) sont interprétées comme héliocentriques en UA.\n     */\n    updateDisplayFromSnapshot(snapshot) {\n      if (!snapshot || !snapshot.bodies || snapshot.bodies.length === 0) {\n        this.displayPlanets = [];\n        this.voyagerMarkers = [];\n        return;\n      }\n      const positionsByName = new Map();\n      for (const body of snapshot.bodies) {\n        positionsByName.set(body.name, body);\n      }\n      const display = [];\n      const deltaDays = this.timeOffsetDays + this.computeDriftDays(snapshot);\n      for (const planet of this.planets) {\n        const pos = positionsByName.get(planet.name);\n        if (!pos) {\n          continue;\n        }\n        const {\n          x: xOrbit,\n          y: yOrbit,\n          z: zOrbitRaw\n        } = this.computePositionWithOffset(pos, planet, deltaDays);\n        let zOrbit = zOrbitRaw;\n        const baseRadiusAu = Math.sqrt(xOrbit * xOrbit + yOrbit * yOrbit + zOrbit * zOrbit) || planet.semiMajorAxisAU || 1e-6;\n        if (!this.hasVelocity(pos)) {\n          const incRad = (planet.inclinationDeg || 0) * Math.PI / 180;\n          const angle = Math.atan2(yOrbit, xOrbit);\n          const tiltRadius = Math.max(baseRadiusAu, planet.semiMajorAxisAU || baseRadiusAu);\n          zOrbit += tiltRadius * Math.sin(incRad) * Math.sin(angle);\n        }\n        const rAu = Math.sqrt(xOrbit * xOrbit + yOrbit * yOrbit + zOrbit * zOrbit) || planet.semiMajorAxisAU || 1e-6;\n        const rPx = this.distanceToPixels(rAu);\n        const scale = rPx / rAu || 1;\n        const planetRadiusPx = this.planetRadiusToPixels(planet);\n        let xScreen;\n        let yScreen;\n        if (this.viewMode === '2d') {\n          // Vue du dessus : projection dans le plan (x, y)\n          xScreen = this.centerX + xOrbit * scale;\n          yScreen = this.centerY + yOrbit * scale;\n        } else {\n          // Vue pseudo-3D : même position physique (x, y, z),\n          // projection oblique autour de l’axe X.\n          const projected = this.project3dPoint(xOrbit, yOrbit, zOrbit, scale);\n          xScreen = projected.x;\n          yScreen = projected.y;\n        }\n        // Axe planétaire (vue 3D uniquement)\n        let axis;\n        if (this.viewMode === '3d' && this.showPlanetAxes) {\n          const tiltRad = (planet.axialTiltDeg || 0) * Math.PI / 180;\n          const axisHalfPx = planetRadiusPx * 1.5;\n          const axisHalfAu = axisHalfPx / (scale || 1);\n          const axisY = Math.sin(tiltRad) * axisHalfAu;\n          const axisZ = Math.cos(tiltRad) * axisHalfAu;\n          const start = this.project3dPoint(xOrbit, yOrbit - axisY, zOrbit - axisZ, scale);\n          const end = this.project3dPoint(xOrbit, yOrbit + axisY, zOrbit + axisZ, scale);\n          axis = {\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          };\n        }\n        // Ombre portée simple (ellipse aplatie sous la planète)\n        let shadow;\n        if (this.viewMode === '3d' && this.showShadows) {\n          shadow = {\n            cx: xScreen,\n            cy: yScreen + planetRadiusPx * 0.6,\n            rx: planetRadiusPx * 1.4,\n            ry: planetRadiusPx * 0.65\n          };\n        }\n        display.push({\n          planet,\n          x: xScreen,\n          y: yScreen,\n          rAu,\n          isSelected: !!this.selectedPlanet && this.selectedPlanet.name === planet.name,\n          isFocused: this.focusPlanetName === planet.name,\n          axis,\n          shadow\n        });\n      }\n      // Optionnel : recalcule l'échelle 1 UA (utile après focus)\n      this.oneAuPixels = this.distanceToPixels(1);\n      let panX = 0;\n      let panY = 0;\n      // Si on doit centrer sur une planète, calcule un décalage global\n      if (this.focusPlanetName) {\n        const focused = display.find(dp => dp.planet.name === this.focusPlanetName);\n        if (focused) {\n          panX = this.centerX - focused.x;\n          panY = this.centerY - focused.y;\n          display = display.map(dp => ({\n            ...dp,\n            x: dp.x + panX,\n            y: dp.y + panY,\n            axis: dp.axis ? {\n              x1: dp.axis.x1 + panX,\n              y1: dp.axis.y1 + panY,\n              x2: dp.axis.x2 + panX,\n              y2: dp.axis.y2 + panY\n            } : undefined,\n            shadow: dp.shadow ? {\n              ...dp.shadow,\n              cx: dp.shadow.cx + panX,\n              cy: dp.shadow.cy + panY\n            } : undefined\n          }));\n        }\n      }\n      this.displayPlanets = display;\n      this.lastPanX = panX;\n      this.lastPanY = panY;\n      this.voyagerMarkers = this.buildVoyagerMarkers(deltaDays, panX, panY);\n    }\n    /**\n     * Bascule des options d’affichage en vue 3D.\n     */\n    onToggleOrbitPlanes(checked) {\n      this.showOrbitalPlanes = checked;\n      this.refreshDisplay();\n    }\n    onTogglePlanetAxes(checked) {\n      this.showPlanetAxes = checked;\n      this.refreshDisplay();\n    }\n    onToggleShadows(checked) {\n      this.showShadows = checked;\n      this.refreshDisplay();\n    }\n    /**\n     * Recalcule l’affichage depuis le dernier snapshot si disponible.\n     */\n    refreshDisplay() {\n      if (this.lastSnapshot) {\n        this.updateDisplayFromSnapshot(this.lastSnapshot);\n      }\n    }\n    /**\n     * Compression visuelle des plans orbitaux en vue 3D.\n     */\n    orbitPlaneCompression(planet) {\n      const incRad = (planet.inclinationDeg || 0) * Math.PI / 180;\n      const base = Math.cos(this.cameraAngleRad);\n      const tilt = Math.cos(incRad);\n      return Math.max(0.2, base * tilt);\n    }\n    /**\n     * Projection oblique d’un point 3D (en UA) vers l’écran (px).\n     */\n    project3dPoint(xAu, yAu, zAu, scale) {\n      const x = xAu * scale;\n      const y = yAu * scale;\n      const z = zAu * scale;\n      const phi = this.cameraAngleRad;\n      const yProj = y * Math.cos(phi) - z * Math.sin(phi);\n      return {\n        x: this.centerX + x,\n        y: this.centerY + yProj\n      };\n    }\n    // ---------------------------------------------------------------------------\n    // Lecture inertielle & interpolation temporelle\n    // ---------------------------------------------------------------------------\n    onToggleInertialPlayback(checked) {\n      this.enableInertialPlayback = checked;\n      if (checked) {\n        this.startInertialAnimation();\n        this.refreshDisplay();\n      } else {\n        this.stopInertialAnimation();\n      }\n    }\n    startInertialAnimation() {\n      if (!this.enableInertialPlayback || this.animationFrameId !== null) {\n        return;\n      }\n      const tick = () => {\n        this.animationFrameId = null;\n        if (this.enableInertialPlayback) {\n          this.refreshDisplay();\n          this.animationFrameId = requestAnimationFrame(tick);\n        }\n      };\n      this.animationFrameId = requestAnimationFrame(tick);\n    }\n    stopInertialAnimation() {\n      if (this.animationFrameId !== null) {\n        cancelAnimationFrame(this.animationFrameId);\n        this.animationFrameId = null;\n      }\n    }\n    trackLatency(snapshot) {\n      if (this.lastLatencyTimestamp === snapshot.timestamp) {\n        return;\n      }\n      const latency = snapshot.metadata?.responseTimeMs;\n      if (latency !== undefined && Number.isFinite(latency)) {\n        this.latencySumMs += latency;\n        this.latencyCount += 1;\n        this.lastLatencyTimestamp = snapshot.timestamp;\n        this.currentLatencyMs = latency;\n      }\n    }\n    trackCache(snapshot) {\n      const meta = snapshot.metadata;\n      if (!meta) {\n        return;\n      }\n      this.lastCacheStatus = meta.cacheStatus ?? this.lastCacheStatus;\n      this.lastCacheBackend = meta.cacheBackend ?? this.lastCacheBackend;\n      this.cacheAgeMs = meta.cacheAgeMs !== undefined && Number.isFinite(meta.cacheAgeMs) ? meta.cacheAgeMs : this.cacheAgeMs;\n      this.cacheTtlMs = meta.cacheExpiresInMs !== undefined && Number.isFinite(meta.cacheExpiresInMs) ? meta.cacheExpiresInMs : this.cacheTtlMs;\n      if (meta.responseTimeMs !== undefined && Number.isFinite(meta.responseTimeMs)) {\n        this.currentLatencyMs = meta.responseTimeMs;\n      }\n      if (meta.frozenSnapshot) {\n        this.frozenSnapshot = true;\n        this.freezeReason = meta.freezeReason ?? this.freezeReason;\n      } else {\n        this.frozenSnapshot = false;\n        this.freezeReason = null;\n      }\n      if (meta.requestId) {\n        this.lastRequestId = meta.requestId;\n      }\n    }\n    computeDriftDays(snapshot) {\n      if (!this.enableInertialPlayback) {\n        return 0;\n      }\n      const refFromSnapshot = Date.parse(snapshot.timestamp);\n      const referenceMs = Number.isFinite(refFromSnapshot) ? refFromSnapshot : this.snapshotReceivedAt ?? Date.now();\n      const now = Date.now();\n      const driftMs = now - referenceMs;\n      return Math.max(0, driftMs) / this.msPerDay;\n    }\n    enrichVoyagerViews() {\n      const earth = this.lastSnapshot?.bodies?.find(b => b.name === 'earth');\n      this.voyagerViews = (this.voyagers ?? []).map(v => this.buildVoyagerView(v, earth));\n      this.refreshVoyagerMarkers();\n    }\n    buildVoyagerView(v, earth) {\n      const earthDistanceKm = this.computeEarthDistanceKm(v, earth);\n      const distanceFromEarth = {\n        au: earthDistanceKm !== null ? earthDistanceKm / KM_PER_AU : v.distanceFromEarth?.au ?? null,\n        km: earthDistanceKm ?? v.distanceFromEarth?.km ?? null,\n        miles: earthDistanceKm !== null ? earthDistanceKm * 0.621371 : v.distanceFromEarth?.miles ?? null,\n        lightTimeMin: earthDistanceKm !== null ? earthDistanceKm / SPEED_OF_LIGHT_KM_S / 60 : v.lightTime?.oneWayMinutes ?? null,\n        lightTimeHours: earthDistanceKm !== null ? earthDistanceKm / SPEED_OF_LIGHT_KM_S / 3600 : null\n      };\n      const lightTime = this.computeLightTime(v, earthDistanceKm);\n      const trajectory = v.trajectory ?? this.computeTrajectoryFromVector(v);\n      const communication = this.findDsnContact(v);\n      const mission = VOYAGER_MISSION[v.id];\n      const milestones = this.buildMilestones(mission?.events ?? []);\n      const sinceLaunchLabel = mission ? this.formatDurationSince(mission.launch) : undefined;\n      const distanceSinceLaunchKm = earthDistanceKm ?? v.distanceFromEarth?.km ?? v.distanceFromSun.km ?? null;\n      const distanceForTrend = distanceFromEarth.km ?? v.distanceFromSun.km ?? null;\n      const speedKmS = v.speed.kmPerS ?? null;\n      const spark24hPath = this.buildSparklinePath(distanceForTrend, speedKmS, 24);\n      const spark7dPath = this.buildSparklinePath(distanceForTrend, speedKmS, 24 * 7);\n      return {\n        ...v,\n        distanceFromEarth,\n        lightTime,\n        trajectory,\n        communication,\n        sinceLaunchLabel,\n        distanceSinceLaunchKm,\n        milestones,\n        spark24hPath,\n        spark7dPath\n      };\n    }\n    computeEarthDistanceKm(v, earth) {\n      if (v.distanceFromEarth?.km !== undefined && v.distanceFromEarth?.km !== null) {\n        return v.distanceFromEarth.km;\n      }\n      if (!earth || !Number.isFinite(earth.x_au) || !Number.isFinite(earth.y_au) || !Number.isFinite(earth.z_au)) {\n        return null;\n      }\n      const distAu = Math.sqrt(Math.pow((v.positionAu?.x ?? 0) - earth.x_au, 2) + Math.pow((v.positionAu?.y ?? 0) - earth.y_au, 2) + Math.pow((v.positionAu?.z ?? 0) - earth.z_au, 2));\n      return distAu * KM_PER_AU;\n    }\n    computeLightTime(v, earthDistanceKm) {\n      if (v.lightTime?.oneWaySeconds !== undefined && v.lightTime.oneWaySeconds !== null) {\n        return {\n          oneWaySeconds: v.lightTime.oneWaySeconds,\n          oneWayMinutes: v.lightTime.oneWayMinutes ?? v.lightTime.oneWaySeconds / 60,\n          twoWayMinutes: v.lightTime.twoWayMinutes ?? v.lightTime.oneWaySeconds * 2 / 60\n        };\n      }\n      if (earthDistanceKm === null) {\n        return {\n          oneWaySeconds: null,\n          oneWayMinutes: null,\n          twoWayMinutes: null\n        };\n      }\n      const oneWaySeconds = earthDistanceKm / SPEED_OF_LIGHT_KM_S;\n      return {\n        oneWaySeconds,\n        oneWayMinutes: oneWaySeconds / 60,\n        twoWayMinutes: oneWaySeconds * 2 / 60\n      };\n    }\n    computeTrajectoryFromVector(v) {\n      const r = Math.sqrt((v.positionAu?.x ?? 0) * (v.positionAu?.x ?? 0) + (v.positionAu?.y ?? 0) * (v.positionAu?.y ?? 0) + (v.positionAu?.z ?? 0) * (v.positionAu?.z ?? 0));\n      const eclipticLatDeg = r ? Math.asin((v.positionAu?.z ?? 0) / r) * 180 / Math.PI : null;\n      const eclipticLonDeg = r ? this.normalizeAngleDeg(Math.atan2(v.positionAu?.y ?? 0, v.positionAu?.x ?? 0) * 180 / Math.PI) : null;\n      const speed = Math.sqrt((v.velocityAuPerDay?.x ?? 0) * (v.velocityAuPerDay?.x ?? 0) + (v.velocityAuPerDay?.y ?? 0) * (v.velocityAuPerDay?.y ?? 0) + (v.velocityAuPerDay?.z ?? 0) * (v.velocityAuPerDay?.z ?? 0));\n      const velocityLatDeg = speed > 0 && v.velocityAuPerDay?.z !== undefined ? Math.asin(v.velocityAuPerDay.z / speed) * 180 / Math.PI : null;\n      const velocityAzimuthDeg = speed > 0 && v.velocityAuPerDay?.x !== undefined && v.velocityAuPerDay?.y !== undefined ? this.normalizeAngleDeg(Math.atan2(v.velocityAuPerDay.y, v.velocityAuPerDay.x) * 180 / Math.PI) : null;\n      return {\n        eclipticLatDeg,\n        eclipticLonDeg,\n        velocityAzimuthDeg,\n        velocityLatDeg\n      };\n    }\n    refreshVoyagerMarkers() {\n      if (!this.lastSnapshot) {\n        this.voyagerMarkers = [];\n        return;\n      }\n      const deltaDays = this.timeOffsetDays + this.computeDriftDays(this.lastSnapshot);\n      this.voyagerMarkers = this.buildVoyagerMarkers(deltaDays, this.lastPanX, this.lastPanY);\n    }\n    getVelocityComponent(vec, key) {\n      if (!vec) {\n        return null;\n      }\n      const altKey = key === 'x' ? 'vx' : key === 'y' ? 'vy' : 'vz';\n      const value = vec[key] ?? vec[altKey];\n      return Number.isFinite(value) ? Number(value) : null;\n    }\n    computeVoyagerPosition(v, deltaDays) {\n      const base = {\n        x: v.positionAu?.x ?? 0,\n        y: v.positionAu?.y ?? 0,\n        z: v.positionAu?.z ?? 0\n      };\n      if (!this.enableInertialPlayback) {\n        return base;\n      }\n      const vx = this.getVelocityComponent(v.velocityAuPerDay, 'x') ?? 0;\n      const vy = this.getVelocityComponent(v.velocityAuPerDay, 'y') ?? 0;\n      const vz = this.getVelocityComponent(v.velocityAuPerDay, 'z') ?? 0;\n      return {\n        x: base.x + vx * deltaDays,\n        y: base.y + vy * deltaDays,\n        z: base.z + vz * deltaDays\n      };\n    }\n    findDsnContact(v) {\n      const match = this.dsnContacts.find(c => c.spacecraft.toUpperCase().includes(v.id === 'voyager1' ? 'VGR1' : 'VGR2') || c.spacecraftId === (v.id === 'voyager1' ? '31' : '32'));\n      return match ?? null;\n    }\n    buildMilestones(events) {\n      return events.map(e => ({\n        ...e,\n        since: this.formatDurationSince(e.date)\n      }));\n    }\n    formatDurationSince(dateIso) {\n      const ts = Date.parse(dateIso);\n      if (!Number.isFinite(ts)) {\n        return '';\n      }\n      const diffMs = Date.now() - ts;\n      const years = Math.floor(diffMs / (MS_PER_DAY * 365.25));\n      const days = Math.floor((diffMs - years * MS_PER_DAY * 365.25) / MS_PER_DAY);\n      if (years > 0) {\n        return `${years} an${years > 1 ? 's' : ''}${days > 0 ? ` ${days} j` : ''}`;\n      }\n      const hours = Math.floor((diffMs - days * MS_PER_DAY) / 3_600_000);\n      if (days > 0) {\n        return `${days} j ${hours} h`;\n      }\n      const minutes = Math.floor((diffMs - hours * 3_600_000) / 60_000);\n      return `${hours} h ${minutes} min`;\n    }\n    buildSparklinePath(distanceKm, speedKmS, horizonHours) {\n      if (distanceKm === null || speedKmS === null) {\n        return null;\n      }\n      const points = [];\n      const steps = 12;\n      const horizonSeconds = horizonHours * 3600;\n      for (let i = steps; i >= 0; i--) {\n        const t = i / steps;\n        const secondsAgo = horizonSeconds * t;\n        const projected = distanceKm - speedKmS * secondsAgo;\n        points.push({\n          x: (1 - t) * 100,\n          y: projected\n        });\n      }\n      const min = Math.min(...points.map(p => p.y));\n      const max = Math.max(...points.map(p => p.y));\n      const span = max - min || 1;\n      const height = 30;\n      const normalized = points.map(p => ({\n        x: p.x,\n        y: height - (p.y - min) / span * height\n      }));\n      return normalized.map((p, idx) => `${idx === 0 ? 'M' : 'L'} ${p.x.toFixed(1)} ${p.y.toFixed(1)}`).join(' ');\n    }\n    buildVoyagerMarkers(deltaDays, panX = 0, panY = 0) {\n      if (!this.voyagers?.length) {\n        return [];\n      }\n      const maxRadius = Math.min(this.width, this.height) / 2 - 12;\n      return this.voyagers.map(v => {\n        const pos = this.computeVoyagerPosition(v, deltaDays);\n        const rAu = Math.sqrt(pos.x * pos.x + pos.y * pos.y + pos.z * pos.z) || 0;\n        const rPxRaw = rAu ? this.distanceToPixels(rAu) : 0;\n        const rPx = Math.min(rPxRaw, maxRadius);\n        const scale = rAu ? rPx / rAu : 0;\n        let x;\n        let y;\n        if (this.viewMode === '3d') {\n          const projected = this.project3dPoint(pos.x, pos.y, pos.z, scale);\n          x = projected.x;\n          y = projected.y;\n        } else {\n          x = this.centerX + pos.x * scale;\n          y = this.centerY + pos.y * scale;\n        }\n        return {\n          id: v.id,\n          name: v.name,\n          x: x + panX,\n          y: y + panY,\n          rAu,\n          distanceLabel: rAu ? `${rAu.toFixed(1)} UA` : '',\n          color: VOYAGER_COLORS[v.id]\n        };\n      }).filter(m => Number.isFinite(m.x) && Number.isFinite(m.y));\n    }\n    copyVoyagerSnapshotAsJson() {\n      try {\n        const payload = {\n          timestamp: this.lastVoyagerTimestamp ?? new Date().toISOString(),\n          requestId: this.lastVoyagerRequestId,\n          voyagers: this.voyagerViews\n        };\n        const text = JSON.stringify(payload, null, 2);\n        this.copyText(text, 'Snapshot copié (JSON)');\n      } catch (err) {\n        console.error('copy json failed', err);\n        this.copyStatus = 'error';\n        this.copyMessage = 'Échec de la copie JSON';\n      }\n    }\n    exportVoyagerCsv() {\n      if (!this.voyagerViews.length) {\n        this.copyStatus = 'error';\n        this.copyMessage = 'Aucune donnée Voyager à exporter';\n        return;\n      }\n      const header = ['name', 'id', 'timestamp', 'distanceSunKm', 'distanceEarthKm', 'speedKmS', 'eclipticLatDeg', 'eclipticLonDeg'];\n      const rows = this.voyagerViews.map(v => [v.name, v.id, v.timestamp, v.distanceFromSun.km ?? '', v.distanceFromEarth.km ?? '', v.speed.kmPerS ?? '', v.trajectory.eclipticLatDeg ?? '', v.trajectory.eclipticLonDeg ?? '']);\n      const csv = [header, ...rows].map(row => row.map(cell => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(',')).join('\\n');\n      this.copyText(csv, 'Export CSV copié dans le presse-papiers');\n    }\n    copyText(text, successMsg) {\n      const done = () => {\n        this.copyStatus = 'success';\n        this.copyMessage = successMsg;\n        setTimeout(() => this.copyStatus = 'idle', 2000);\n      };\n      if (navigator?.clipboard?.writeText) {\n        navigator.clipboard.writeText(text).then(done).catch(err => {\n          console.error('clipboard error', err);\n          this.copyStatus = 'error';\n          this.copyMessage = 'Impossible de copier dans le presse-papiers';\n        });\n      } else {\n        try {\n          const textarea = document.createElement('textarea');\n          textarea.value = text;\n          textarea.style.position = 'fixed';\n          textarea.style.opacity = '0';\n          document.body.appendChild(textarea);\n          textarea.select();\n          document.execCommand('copy');\n          document.body.removeChild(textarea);\n          done();\n        } catch (err) {\n          console.error('copy fallback failed', err);\n          this.copyStatus = 'error';\n          this.copyMessage = 'Impossible de copier le texte';\n        }\n      }\n    }\n    normalizeAngleDeg(deg) {\n      const wrapped = deg % 360;\n      return wrapped < 0 ? wrapped + 360 : wrapped;\n    }\n    hasVelocity(pos) {\n      return pos.vx !== undefined && pos.vy !== undefined && pos.vz !== undefined && Number.isFinite(pos.vx) && Number.isFinite(pos.vy) && Number.isFinite(pos.vz);\n    }\n    /**\n     * Calcule la position décalée temporellement d’une planète.\n     * - Si des vitesses vx/vy/vz sont présentes, on interpole linéairement en UA.\n     * - Sinon, on retombe sur l’approximation orbitale existante (période + inclinaison).\n     */\n    computePositionWithOffset(pos, planet, deltaDays) {\n      if (deltaDays !== 0 && this.hasVelocity(pos)) {\n        return {\n          x: pos.x_au + pos.vx * deltaDays,\n          y: pos.y_au + pos.vy * deltaDays,\n          z: pos.z_au + pos.vz * deltaDays\n        };\n      }\n      if (deltaDays === 0) {\n        return {\n          x: pos.x_au,\n          y: pos.y_au,\n          z: pos.z_au\n        };\n      }\n      // Fallback : approximation orbitale simple si pas de vx/vy/vz.\n      const baseRAu = Math.sqrt(pos.x_au * pos.x_au + pos.y_au * pos.y_au + pos.z_au * pos.z_au) || planet.semiMajorAxisAU || 1e-6;\n      const orbitalPeriod = planet.orbitalPeriodDays || 365.25;\n      const baseAngle = Math.atan2(pos.y_au, pos.x_au);\n      const deltaAngle = 2 * Math.PI * deltaDays / orbitalPeriod;\n      const targetAngle = baseAngle + deltaAngle;\n      const orbitalRadiusAu = Math.max(baseRAu, planet.semiMajorAxisAU || baseRAu);\n      const incRad = (planet.inclinationDeg || 0) * Math.PI / 180;\n      return {\n        x: orbitalRadiusAu * Math.cos(targetAngle),\n        y: orbitalRadiusAu * Math.sin(targetAngle),\n        z: pos.z_au + orbitalRadiusAu * Math.sin(incRad) * Math.sin(targetAngle)\n      };\n    }\n    // ---------------------------------------------------------------------------\n    // Interaction utilisateur\n    // ---------------------------------------------------------------------------\n    /**\n     * Gestion du clic sur une planète dans le SVG.\n     */\n    onPlanetClick(planet) {\n      this.selectedPlanet = planet;\n      this.updateSelectionFlags(planet);\n    }\n    /**\n     * Gestion de la fermeture du panneau d’info.\n     */\n    onCloseInfo() {\n      this.selectedPlanet = null;\n      // Nettoie le flag de sélection visuelle\n      this.updateSelectionFlags(null);\n    }\n    get voyagerSourceBadge() {\n      if (!this.lastVoyagerTimestamp && !this.lastVoyagerRequestId) {\n        return null;\n      }\n      const freshness = this.lastVoyagerTimestamp ? this.freshnessFrom(this.lastVoyagerTimestamp) : null;\n      const req = this.lastVoyagerRequestId ? `req #${this.lastVoyagerRequestId}` : null;\n      const parts = ['Horizons', freshness ? `mis à jour ${freshness}` : null, req].filter(Boolean);\n      return parts.join(' • ');\n    }\n    freshnessFrom(timestamp) {\n      const ts = Date.parse(timestamp);\n      if (!Number.isFinite(ts)) {\n        return null;\n      }\n      const diffMs = Date.now() - ts;\n      if (diffMs < 0) {\n        return 'à l’instant';\n      }\n      const diffMin = diffMs / 60000;\n      if (diffMin < 1) return 'il y a < 1 min';\n      if (diffMin < 60) return `il y a ${Math.round(diffMin)} min`;\n      const diffH = diffMin / 60;\n      if (diffH < 24) return `il y a ${diffH.toFixed(1)} h`;\n      return `il y a ${(diffH / 24).toFixed(1)} j`;\n    }\n    /**\n     * Centre et zoome sur la planète sélectionnée.\n     */\n    centerOnSelected() {\n      if (!this.selectedPlanet) {\n        return;\n      }\n      this.focusPlanetName = this.selectedPlanet.name;\n      this.refreshDisplay();\n    }\n    clearFocus() {\n      this.focusPlanetName = null;\n      this.refreshDisplay();\n    }\n    onLegendSelect(planet) {\n      this.selectedPlanet = planet;\n      this.focusPlanetName = planet.name;\n      this.updateSelectionFlags(planet);\n      this.refreshDisplay();\n    }\n    get focusedPlanet() {\n      if (!this.focusPlanetName) {\n        return null;\n      }\n      return this.planets.find(p => p.name === this.focusPlanetName) ?? null;\n    }\n    get averageLatencyMs() {\n      if (this.latencyCount === 0) {\n        return null;\n      }\n      return this.latencySumMs / this.latencyCount;\n    }\n    updateSelectionFlags(planet) {\n      this.displayPlanets = this.displayPlanets.map(dp => ({\n        ...dp,\n        isSelected: !!planet && dp.planet.name === planet.name\n      }));\n    }\n    /**\n     * Libellé de fraîcheur des données (ex: \"< 5 min\").\n     */\n    get freshnessLabel() {\n      if (!this.lastUpdateTimestamp) {\n        return null;\n      }\n      const ts = Date.parse(this.lastUpdateTimestamp);\n      if (Number.isNaN(ts)) {\n        return null;\n      }\n      const diffMs = Date.now() - ts;\n      if (diffMs < 0) {\n        return 'à l’instant';\n      }\n      const diffMin = diffMs / 60000;\n      if (diffMin < 1) return '< 1 min';\n      if (diffMin < 5) return '< 5 min';\n      if (diffMin < 15) return '< 15 min';\n      if (diffMin < 60) return `${Math.round(diffMin)} min`;\n      const diffH = diffMin / 60;\n      if (diffH < 24) return `${diffH.toFixed(1)} h`;\n      return `${(diffH / 24).toFixed(1)} j`;\n    }\n    static {\n      this.ɵfac = function SolarSystemComponent_Factory(t) {\n        return new (t || SolarSystemComponent)(i0.ɵɵdirectiveInject(i1.PlanetService), i0.ɵɵdirectiveInject(i2.RealEphemerisService), i0.ɵɵdirectiveInject(i3.VoyagerService), i0.ɵɵdirectiveInject(i4.DsnService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SolarSystemComponent,\n        selectors: [[\"app-solar-system\"]],\n        hostBindings: function SolarSystemComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"resize\", function SolarSystemComponent_resize_HostBindingHandler() {\n              return ctx.onWindowResize();\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        decls: 94,\n        vars: 53,\n        consts: [[\"noComm\", \"\"], [1, \"solar-system-layout\"], [1, \"left-pane\"], [1, \"controls-stack\"], [\"class\", \"status-banner frozen\", 4, \"ngIf\"], [\"class\", \"status-banner error\", 4, \"ngIf\"], [\"role\", \"radiogroup\", \"aria-label\", \"Mode d'affichage du syst\\u00E8me solaire\", 1, \"controls\"], [\"type\", \"button\", \"role\", \"radio\", 3, \"click\"], [\"aria-label\", \"Contr\\u00F4les de timelapse\", 1, \"timelapse-panel\"], [1, \"timelapse-row\"], [1, \"timelapse-label\"], [1, \"tag\"], [1, \"timelapse-buttons\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"button\", 1, \"ghost\", 3, \"click\"], [1, \"timelapse-slider\"], [\"type\", \"range\", \"aria-label\", \"D\\u00E9calage temporel en jours\", 3, \"input\", \"min\", \"max\", \"step\", \"value\"], [1, \"timelapse-values\"], [4, \"ngIf\"], [1, \"inertial-toggle\"], [\"type\", \"checkbox\", 3, \"change\", \"checked\"], [1, \"inertial-hint\"], [\"class\", \"view-toggles\", 4, \"ngIf\"], [\"class\", \"focus-status\", 4, \"ngIf\"], [\"class\", \"data-quality\", 4, \"ngIf\"], [1, \"color-legend\"], [\"type\", \"button\", \"class\", \"legend-item\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"img\", \"aria-labelledby\", \"solarTitle solarDesc\", 1, \"solar-system-svg\"], [\"id\", \"solarTitle\"], [\"id\", \"solarDesc\"], [\"id\", \"sunGradient\"], [\"offset\", \"0%\", \"stop-color\", \"#ffffdd\"], [\"offset\", \"70%\", \"stop-color\", \"#ffcc33\"], [\"offset\", \"100%\", \"stop-color\", \"#dd8800\"], [\"fill\", \"url(#sunGradient)\"], [\"class\", \"orbit-planes\", 4, \"ngIf\"], [\"class\", \"orbits\", 4, \"ngIf\"], [\"class\", \"shadows\", 4, \"ngIf\"], [\"class\", \"axes\", 4, \"ngIf\"], [\"aria-label\", \"Plan\\u00E8tes du syst\\u00E8me solaire\", 1, \"planets\"], [\"class\", \"planet-circle\", 3, \"selected\", \"focused\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"voyagers\", 4, \"ngIf\"], [1, \"scale-container\"], [1, \"scale-label\"], [\"aria-hidden\", \"true\", 1, \"scale-bar-wrapper\"], [1, \"scale-bar\"], [1, \"scale-text\"], [1, \"right-pane\"], [\"class\", \"selected-actions\", 4, \"ngIf\"], [3, \"planet\", \"close\", 4, \"ngIf\"], [\"class\", \"placeholder\", 4, \"ngIf\"], [1, \"voyager-panel\"], [1, \"panel-header\"], [1, \"panel-title\"], [1, \"panel-subtitle\"], [\"class\", \"badge\", 4, \"ngIf\"], [1, \"panel-actions\"], [\"class\", \"status-banner\", 4, \"ngIf\"], [\"class\", \"voyager-compare\", 4, \"ngIf\"], [1, \"voyager-cards\"], [\"class\", \"voyager-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"status-banner\", \"frozen\"], [1, \"status-title\"], [1, \"status-banner\", \"error\"], [1, \"view-toggles\"], [1, \"focus-status\"], [1, \"focus-chip\"], [1, \"focus-dot\"], [1, \"data-quality\"], [\"type\", \"button\", 1, \"legend-item\", 3, \"click\"], [1, \"legend-dot\"], [1, \"orbit-planes\"], [\"class\", \"orbit-plane\", 4, \"ngFor\", \"ngForOf\"], [1, \"orbit-plane\"], [1, \"orbits\"], [\"class\", \"orbit-circle\", 4, \"ngFor\", \"ngForOf\"], [1, \"orbit-circle\"], [1, \"shadows\"], [\"class\", \"shadow-ellipse\", 4, \"ngFor\", \"ngForOf\"], [1, \"shadow-ellipse\"], [1, \"axes\"], [\"class\", \"axis-line\", 4, \"ngFor\", \"ngForOf\"], [1, \"axis-line\"], [1, \"planet-circle\", 3, \"click\"], [1, \"voyagers\"], [\"class\", \"voyager-marker\", 4, \"ngFor\", \"ngForOf\"], [1, \"voyager-marker\"], [\"r\", \"4\", 1, \"voyager-node\"], [1, \"voyager-label\"], [1, \"voyager-distance\"], [1, \"selected-actions\"], [\"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"ghost\", 3, \"click\", 4, \"ngIf\"], [3, \"close\", \"planet\"], [1, \"placeholder\"], [1, \"badge\"], [1, \"status-banner\"], [1, \"voyager-compare\"], [1, \"compare-title\"], [1, \"compare-table\"], [1, \"compare-row\", \"head\"], [1, \"cell\"], [1, \"compare-row\"], [1, \"cell\", \"label\"], [1, \"voyager-card\"], [1, \"voyager-card-header\"], [1, \"voyager-name\"], [1, \"voyager-id\"], [\"class\", \"since-launch\", 4, \"ngIf\"], [1, \"voyager-meta\"], [1, \"voyager-rows\"], [1, \"voyager-row\"], [1, \"label\"], [1, \"value\"], [\"class\", \"muted\", 4, \"ngIf\"], [\"class\", \"chip subtle\", 4, \"ngIf\"], [1, \"value\", \"trajectory\"], [1, \"voyager-row\", \"comm-row\"], [\"class\", \"value\", 4, \"ngIf\", \"ngIfElse\"], [\"class\", \"sparkline-block\", 4, \"ngIf\"], [\"class\", \"voyager-milestones\", 4, \"ngIf\"], [1, \"since-launch\"], [1, \"muted\"], [1, \"chip\", \"subtle\"], [1, \"comm-line\"], [1, \"chip\"], [1, \"value\", \"muted\"], [1, \"sparkline-block\"], [\"class\", \"sparkline\", 4, \"ngIf\"], [1, \"sparkline\"], [1, \"spark-label\"], [\"viewBox\", \"0 0 100 30\", \"preserveAspectRatio\", \"none\"], [1, \"voyager-milestones\"], [1, \"milestone-title\"], [1, \"milestone-list\"], [\"class\", \"milestone-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"milestone-item\"], [1, \"dot\"], [1, \"since\"]],\n        template: function SolarSystemComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3);\n            i0.ɵɵtemplate(3, SolarSystemComponent_div_3_Template, 8, 3, \"div\", 4)(4, SolarSystemComponent_div_4_Template, 5, 1, \"div\", 5);\n            i0.ɵɵelementStart(5, \"div\", 6)(6, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_6_listener() {\n              return ctx.setViewMode(\"2d\");\n            });\n            i0.ɵɵtext(7, \" Vue 2D (vue du dessus) \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_8_listener() {\n              return ctx.setViewMode(\"3d\");\n            });\n            i0.ɵɵtext(9, \" Vue 3D (projection oblique) \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10);\n            i0.ɵɵtext(13, \" Timelapse \\u00E9ph\\u00E9m\\u00E9rides \");\n            i0.ɵɵelementStart(14, \"span\", 11);\n            i0.ɵɵtext(15, \"jour / semaine / mois\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"div\", 12)(17, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_17_listener() {\n              return ctx.setTimeStep(1);\n            });\n            i0.ɵɵtext(18, \"Jour\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_19_listener() {\n              return ctx.setTimeStep(7);\n            });\n            i0.ɵɵtext(20, \"Semaine\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_21_listener() {\n              return ctx.setTimeStep(30);\n            });\n            i0.ɵɵtext(22, \"Mois\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_23_listener() {\n              return ctx.resetTimeOffset();\n            });\n            i0.ɵɵtext(24, \"R\\u00E9initialiser\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(25, \"div\", 15)(26, \"input\", 16);\n            i0.ɵɵlistener(\"input\", function SolarSystemComponent_Template_input_input_26_listener($event) {\n              return ctx.onTimeOffsetChange($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"div\", 17)(28, \"span\");\n            i0.ɵɵtext(29);\n            i0.ɵɵpipe(30, \"number\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(31, SolarSystemComponent_span_31_Template, 2, 1, \"span\", 18);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"div\", 19)(33, \"label\")(34, \"input\", 20);\n            i0.ɵɵlistener(\"change\", function SolarSystemComponent_Template_input_change_34_listener($event) {\n              return ctx.onToggleInertialPlayback($event.target.checked);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(35, \" Lecture inertielle (r\\u00E9el + vx/vy/vz) \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"span\", 21);\n            i0.ɵɵtext(37);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(38, SolarSystemComponent_div_38_Template, 10, 3, \"div\", 22);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(39, SolarSystemComponent_div_39_Template, 6, 3, \"div\", 23)(40, SolarSystemComponent_div_40_Template, 8, 5, \"div\", 24);\n            i0.ɵɵelementStart(41, \"div\", 25);\n            i0.ɵɵtemplate(42, SolarSystemComponent_button_42_Template, 3, 5, \"button\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(43, \"svg\", 27)(44, \"title\", 28);\n            i0.ɵɵtext(45, \"Syst\\u00E8me solaire \\u2013 positions en temps r\\u00E9el\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"desc\", 29);\n            i0.ɵɵtext(47, \" Visualisation des plan\\u00E8tes du syst\\u00E8me solaire (Pluton incluse) autour du Soleil. Les positions sont bas\\u00E9es sur des \\u00E9ph\\u00E9m\\u00E9rides temps r\\u00E9el fournies par le backend. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(48, \"defs\")(49, \"radialGradient\", 30);\n            i0.ɵɵelement(50, \"stop\", 31)(51, \"stop\", 32)(52, \"stop\", 33);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(53, \"circle\", 34);\n            i0.ɵɵtemplate(54, SolarSystemComponent__svg_g_54_Template, 2, 1, \"g\", 35)(55, SolarSystemComponent__svg_g_55_Template, 2, 1, \"g\", 36)(56, SolarSystemComponent__svg_g_56_Template, 2, 1, \"g\", 37)(57, SolarSystemComponent__svg_g_57_Template, 2, 1, \"g\", 38);\n            i0.ɵɵelementStart(58, \"g\", 39);\n            i0.ɵɵtemplate(59, SolarSystemComponent__svg_circle_59_Template, 3, 9, \"circle\", 40);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(60, SolarSystemComponent__svg_g_60_Template, 2, 1, \"g\", 41);\n            i0.ɵɵelementEnd();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(61, \"div\", 42)(62, \"div\", 43);\n            i0.ɵɵtext(63, \" \\u00C9chelle radiale (compress\\u00E9e) \\u2013 1 UA \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(64, \"div\", 44);\n            i0.ɵɵelement(65, \"div\", 45);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"div\", 46);\n            i0.ɵɵtext(67, \" 1 unit\\u00E9 astronomique \\u2248 distance moyenne Terre\\u2013Soleil (\\u2248\\u00A0149\\u00A0600\\u00A0000\\u00A0km). L\\u2019\\u00E9chelle radiale est compress\\u00E9e pour garder toutes les plan\\u00E8tes visibles. \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(68, \"div\", 47);\n            i0.ɵɵtemplate(69, SolarSystemComponent_div_69_Template, 3, 2, \"div\", 48)(70, SolarSystemComponent_app_planet_info_panel_70_Template, 1, 1, \"app-planet-info-panel\", 49)(71, SolarSystemComponent_div_71_Template, 3, 0, \"div\", 50);\n            i0.ɵɵelementStart(72, \"div\", 51)(73, \"div\", 52)(74, \"div\")(75, \"div\", 53);\n            i0.ɵɵtext(76, \"Voyager 1 & 2\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(77, \"div\", 54);\n            i0.ɵɵtext(78, \"Donn\\u00E9es NASA JPL Horizons (km & miles)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(79, SolarSystemComponent_div_79_Template, 2, 1, \"div\", 55);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(80, \"div\", 56)(81, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_81_listener() {\n              return ctx.triggerManualRefresh();\n            });\n            i0.ɵɵtext(82, \"Rafra\\u00EEchir\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(83, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_83_listener() {\n              return ctx.copyVoyagerSnapshotAsJson();\n            });\n            i0.ɵɵtext(84, \"Copier JSON\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(85, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function SolarSystemComponent_Template_button_click_85_listener() {\n              return ctx.exportVoyagerCsv();\n            });\n            i0.ɵɵtext(86, \"Exporter CSV\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(87, SolarSystemComponent_div_87_Template, 5, 1, \"div\", 5)(88, SolarSystemComponent_div_88_Template, 2, 1, \"div\", 57)(89, SolarSystemComponent_div_89_Template, 2, 1, \"div\", 5)(90, SolarSystemComponent_div_90_Template, 5, 1, \"div\", 57)(91, SolarSystemComponent_div_91_Template, 47, 32, \"div\", 58);\n            i0.ɵɵelementStart(92, \"div\", 59);\n            i0.ɵɵtemplate(93, SolarSystemComponent_div_93_Template, 55, 25, \"div\", 60);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.frozenSnapshot);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.frozenSnapshot && ctx.errorMessage);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.viewMode === \"2d\");\n            i0.ɵɵattribute(\"aria-checked\", ctx.viewMode === \"2d\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.viewMode === \"3d\");\n            i0.ɵɵattribute(\"aria-checked\", ctx.viewMode === \"3d\");\n            i0.ɵɵadvance(9);\n            i0.ɵɵclassProp(\"active\", ctx.timeStepDays === 1);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.timeStepDays === 7);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.timeStepDays === 30);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"min\", -ctx.maxTimeOffsetDays)(\"max\", ctx.maxTimeOffsetDays)(\"step\", ctx.timeStepDays)(\"value\", ctx.timeOffsetDays);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate1(\"D\\u00E9placement : \", i0.ɵɵpipeBind2(30, 50, ctx.timeOffsetDays, \"1.0-1\"), \" j\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.lastUpdateTimestamp);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"checked\", ctx.enableInertialPlayback);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate1(\" Continue d\\u2019animer entre deux fetchs en utilisant les vitesses \", (ctx.metadata == null ? null : ctx.metadata.velocityUnit) || \"AU/j\", \". \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.viewMode === \"3d\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.focusedPlanet);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.metadata);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.planets);\n            i0.ɵɵadvance();\n            i0.ɵɵattribute(\"width\", ctx.width)(\"height\", ctx.height)(\"viewBox\", \"0 0 \" + ctx.width + \" \" + ctx.height);\n            i0.ɵɵadvance(10);\n            i0.ɵɵattribute(\"cx\", ctx.centerX)(\"cy\", ctx.centerY)(\"r\", 15);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.viewMode === \"3d\" && ctx.showOrbitalPlanes);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.viewMode === \"2d\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.viewMode === \"3d\" && ctx.showShadows);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.viewMode === \"3d\" && ctx.showPlanetAxes);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.displayPlanets);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.voyagerMarkers.length);\n            i0.ɵɵadvance(5);\n            i0.ɵɵstyleProp(\"width\", ctx.oneAuPixels, \"px\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedPlanet || ctx.focusPlanetName);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedPlanet);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.selectedPlanet);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.voyagerSourceBadge);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.voyagerError);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.copyStatus === \"success\" && ctx.copyMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.copyStatus === \"error\" && ctx.copyMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.dsnError && !ctx.voyagerError);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.voyagerViews.length === 2);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.voyagerViews);\n          }\n        },\n        dependencies: [i5.NgForOf, i5.NgIf, i6.PlanetInfoPanelComponent, i5.DecimalPipe],\n        styles: [\"[_nghost-%COMP%]{display:block;--bg-page: #050510;--bg-panel: #050510;--bg-svg: radial-gradient(circle at center, #000015 0%, #000000 65%, #020208 100%);--border-soft: rgba(255, 255, 255, .06);--border-strong: rgba(255, 255, 255, .15);--text-main: #f5f5ff;--text-muted: #b7bbdd;--text-soft: #8a8fb8;--accent: #3b82f6;--accent-soft: rgba(59, 130, 246, .24);--accent-subtle: rgba(59, 130, 246, .1);--orbit-color: rgba(255, 255, 255, .12);--planet-stroke: rgba(255, 255, 255, .9);--shadow-strong: 0 18px 60px rgba(0, 0, 0, .9);--shadow-soft: 0 0 0 1px rgba(255, 255, 255, .02);--radius-lg: 14px;--radius-md: 10px;--radius-sm: 6px;--transition-fast: .14s ease-out;--transition-med: .2s ease;color:var(--text-main)}@keyframes _ngcontent-%COMP%_solar-fade-in{0%{opacity:0;transform:translateY(6px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_planet-pulse{0%{transform:scale(1);filter:drop-shadow(0 0 2px rgba(255,255,255,.3))}50%{transform:scale(1.04);filter:drop-shadow(0 0 6px rgba(255,255,255,.7))}to{transform:scale(1);filter:drop-shadow(0 0 2px rgba(255,255,255,.3))}}.solar-system-layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;width:100%;box-sizing:border-box;background:transparent}.left-pane[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-width:0}.controls-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.status-banner[_ngcontent-%COMP%]{border-radius:var(--radius-md);padding:12px 14px;border:1px solid var(--border-soft);background:#ffffff0a;box-shadow:var(--shadow-soft);line-height:1.35}.status-banner[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.02em;margin-bottom:4px}.status-banner.frozen[_ngcontent-%COMP%]{border-color:#3b82f659;background:linear-gradient(135deg,#3b82f62e,#3b82f60f)}.status-banner.error[_ngcontent-%COMP%]{border-color:#ff636359;background:linear-gradient(135deg,#ff636329,#ff63630f)}.voyager-panel[_ngcontent-%COMP%]{margin-top:16px;padding:14px;border:1px solid var(--border-soft);border-radius:var(--radius-lg);background:#ffffff05;box-shadow:var(--shadow-soft)}.panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;gap:8px}.panel-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;letter-spacing:.01em}.panel-subtitle[_ngcontent-%COMP%]{color:var(--text-soft);font-size:12px}.panel-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;justify-content:flex-end}.voyager-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.voyager-card[_ngcontent-%COMP%]{padding:12px;border-radius:var(--radius-md);border:1px solid var(--border-soft);background:#ffffff08}.voyager-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;gap:12px;margin-bottom:4px}.voyager-name[_ngcontent-%COMP%]{font-weight:700}.voyager-id[_ngcontent-%COMP%]{color:var(--text-soft);font-size:12px}.voyager-meta[_ngcontent-%COMP%]{color:var(--text-soft);font-size:12px;display:flex;gap:12px;margin-bottom:8px}.voyager-rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.voyager-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px;align-items:baseline}.voyager-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-soft);font-size:12px;min-width:120px}.voyager-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600}.voyager-row[_ngcontent-%COMP%]   .value.mono[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.voyager-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--text-soft);font-weight:400}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;margin-left:6px;border-radius:999px;background:var(--accent-soft);color:var(--text-main);font-size:12px;font-weight:600}.chip.subtle[_ngcontent-%COMP%]{background:#ffffff0f;color:var(--text-muted)}.since-launch[_ngcontent-%COMP%]{color:var(--text-soft);font-size:12px;text-align:right}.trajectory[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.comm-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.comm-line[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px 10px;align-items:center}.sparkline-block[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:10px}.sparkline[_ngcontent-%COMP%]{flex:1 1 0;background:#ffffff05;border:1px solid var(--border-soft);border-radius:var(--radius-sm);padding:6px}.spark-label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-soft);margin-bottom:4px}.sparkline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:32px}.sparkline[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke:var(--accent);stroke-width:1.5}.voyager-milestones[_ngcontent-%COMP%]{margin-top:10px;padding-top:8px;border-top:1px solid var(--border-soft)}.milestone-title[_ngcontent-%COMP%]{font-size:12px;color:var(--text-soft);margin-bottom:4px}.milestone-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.milestone-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px}.milestone-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:6px;height:6px;background:var(--accent);border-radius:50%}.milestone-item[_ngcontent-%COMP%]   .since[_ngcontent-%COMP%]{color:var(--text-soft);margin-left:auto}.badge[_ngcontent-%COMP%]{margin-top:4px;display:inline-flex;align-items:center;gap:6px;padding:3px 8px;border-radius:999px;border:1px solid var(--border-soft);background:#ffffff0d;color:var(--text-soft);font-size:12px}.voyager-compare[_ngcontent-%COMP%]{margin:10px 0;padding:10px;border:1px solid var(--border-soft);border-radius:var(--radius-md);background:#ffffff05}.compare-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:6px}.compare-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:4px}.compare-row[_ngcontent-%COMP%]{display:contents}.compare-row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:6px 8px;border-bottom:1px solid var(--border-soft);font-size:13px}.compare-row.head[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{font-weight:700;color:var(--text-soft);border-bottom-color:#ffffff1f}.compare-row[_ngcontent-%COMP%]   .cell.label[_ngcontent-%COMP%]{color:var(--text-soft);font-weight:600}.right-pane[_ngcontent-%COMP%]{flex:0 0 auto;min-width:260px;max-width:360px}.selected-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-bottom:8px}.selected-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:var(--radius-md);border:1px solid rgba(255,255,255,.12);background:var(--accent);color:#fff;cursor:pointer;box-shadow:0 8px 20px #3b82f659;transition:transform .1s ease,box-shadow .2s ease}.selected-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.selected-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:none}.selected-actions[_ngcontent-%COMP%]   button.ghost[_ngcontent-%COMP%]{background:transparent;color:var(--text-soft);border-style:dashed;box-shadow:none}.selected-actions[_ngcontent-%COMP%]   button.ghost[_ngcontent-%COMP%]:hover{color:var(--text-main);border-color:#ffffff59}.controls[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:4px;border-radius:999px;background:#0a0a1ee6;box-shadow:0 10px 30px #000000b3,0 0 0 1px #ffffff0f;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);width:-moz-fit-content;width:fit-content;animation:_ngcontent-%COMP%_solar-fade-in .18s ease-out}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;padding:6px 14px;border-radius:999px;border:none;background:transparent;color:var(--text-muted);font-size:13px;line-height:1;cursor:pointer;white-space:nowrap;transition:background-color var(--transition-fast),color var(--transition-fast),box-shadow var(--transition-fast),transform .08s ease-out}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;inset:0;border-radius:inherit;background:radial-gradient(circle at top,rgba(255,255,255,.16),transparent);opacity:0;transition:opacity var(--transition-fast);pointer-events:none}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--text-main);background:#ffffff0a}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{opacity:.6}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px) scale(.99);box-shadow:none}.controls[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff;background:var(--accent);box-shadow:0 0 0 1px #ffffff2e,0 10px 25px #3b82f673}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.timelapse-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:10px 12px;border-radius:var(--radius-md);background:#0a0a1ebf;box-shadow:0 10px 30px #0000008c,0 0 0 1px #ffffff0d}.timelapse-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.timelapse-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;letter-spacing:.03em;color:var(--text-main);display:inline-flex;align-items:center;gap:6px}.timelapse-label[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:2px 8px;border-radius:999px;background:#ffffff0f;color:var(--text-soft);font-size:11px;letter-spacing:.05em;text-transform:uppercase}.timelapse-buttons[_ngcontent-%COMP%]{display:inline-flex;gap:6px;flex-wrap:wrap}.timelapse-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#ffffff0a;color:var(--text-muted);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast),transform .08s ease-out,box-shadow var(--transition-fast)}.timelapse-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--text-main);background:#ffffff14}.timelapse-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff;background:var(--accent);border-color:#ffffff2e;box-shadow:0 8px 20px #3b82f659}.timelapse-buttons[_ngcontent-%COMP%]   button.ghost[_ngcontent-%COMP%]{background:transparent;border-style:dashed}.timelapse-slider[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.timelapse-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%;accent-color:var(--accent)}.timelapse-values[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;font-size:12px;color:var(--text-soft)}.inertial-toggle[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:8px 10px;margin-top:2px;border-radius:var(--radius-md);background:#ffffff05;border:1px dashed rgba(255,255,255,.05);color:var(--text-soft);font-size:12px}.inertial-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;color:var(--text-main);font-weight:600}.inertial-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:var(--accent)}.inertial-hint[_ngcontent-%COMP%]{font-size:11px;color:var(--text-soft)}.view-toggles[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;font-size:12px;color:var(--text-soft)}.view-toggles[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:var(--accent)}.data-quality[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:6px;padding:10px 12px;border-radius:var(--radius-md);background:#050a19d9;border:1px solid rgba(255,255,255,.06);color:var(--text-soft);font-size:12px}.color-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;font-size:12px;color:var(--text-soft)}.legend-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);color:inherit;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none;transition:border-color var(--transition-fast),transform 80ms ease-out,background var(--transition-fast),box-shadow var(--transition-fast)}.legend-item[_ngcontent-%COMP%]:hover{background:#ffffff14;color:var(--text-main);border-color:#ffffff29}.legend-item[_ngcontent-%COMP%]:active{transform:translateY(1px)}.legend-item.active[_ngcontent-%COMP%]{color:#fff;background:#3b82f640;border-color:#3b82f699;box-shadow:0 6px 16px #3b82f659}.legend-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.legend-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:1px solid rgba(255,255,255,.4);display:inline-block}.focus-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;border-radius:var(--radius-md);background:linear-gradient(90deg,#3b82f629,#3b82f60d);border:1px solid rgba(59,130,246,.25);box-shadow:0 8px 20px #00000059}.focus-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;font-weight:600;color:var(--text-main)}.focus-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:999px;box-shadow:0 0 12px #fff6}.focus-status[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{padding:6px 10px;border-radius:var(--radius-sm);border:1px dashed rgba(255,255,255,.35);background:transparent;color:#fff;cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast),transform .08s ease-out}.focus-status[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{color:var(--accent);border-color:#3b82f699}.solar-system-svg[_ngcontent-%COMP%]{display:block;width:100%;max-width:800px;aspect-ratio:1 / 1;height:auto;background:var(--bg-svg);border-radius:var(--radius-lg);border:1px solid var(--border-soft);box-shadow:var(--shadow-strong),var(--shadow-soft);animation:_ngcontent-%COMP%_solar-fade-in .22s ease-out}.orbits[_ngcontent-%COMP%]{pointer-events:none}.orbit-circle[_ngcontent-%COMP%]{fill:none;stroke:var(--orbit-color);stroke-width:1;stroke-dasharray:2 4;transition:stroke var(--transition-med),stroke-width var(--transition-med)}.orbit-planes[_ngcontent-%COMP%]{pointer-events:none}.orbit-plane[_ngcontent-%COMP%]{fill:#3b82f60f;stroke:#ffffff0a;stroke-width:1;filter:blur(.4px)}.planets[_ngcontent-%COMP%]{cursor:default}.planet-circle[_ngcontent-%COMP%]{cursor:pointer;stroke:var(--planet-stroke);stroke-width:.5;transition:transform var(--transition-fast),stroke-width var(--transition-fast),filter var(--transition-fast);transform-origin:center center}.planet-circle[_ngcontent-%COMP%]:hover{stroke-width:1.1;filter:drop-shadow(0 0 4px rgba(255,255,255,.8));transform:scale(1.05)}.planet-circle[_ngcontent-%COMP%]:active{transform:scale(.98)}.planet-circle.selected[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_planet-pulse 1.2s ease-in-out infinite}.planet-circle.focused[_ngcontent-%COMP%]{stroke-width:2;filter:drop-shadow(0 0 8px rgba(250,204,21,.85))}.shadow-ellipse[_ngcontent-%COMP%]{fill:#0006;filter:blur(4px)}.axes[_ngcontent-%COMP%]{pointer-events:none}.axis-line[_ngcontent-%COMP%]{stroke:#ffffffb3;stroke-width:1.5;stroke-linecap:round;opacity:.9}.voyagers[_ngcontent-%COMP%]{font-family:Inter,Segoe UI,system-ui,-apple-system,sans-serif}.voyager-marker[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{pointer-events:none}.voyager-node[_ngcontent-%COMP%]{stroke:#0a0a0a;stroke-width:1}.voyager-label[_ngcontent-%COMP%]{fill:var(--text-main);font-size:11px;font-weight:700}.voyager-distance[_ngcontent-%COMP%]{fill:var(--text-soft);font-size:10px}.scale-container[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:var(--text-soft);display:flex;flex-direction:column;gap:4px;max-width:420px}.scale-label[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.03em;text-transform:uppercase;color:var(--text-muted)}.scale-bar-wrapper[_ngcontent-%COMP%]{position:relative;height:4px;border-radius:999px;background:#ffffff0f;overflow:hidden}.scale-bar[_ngcontent-%COMP%]{height:100%;border-radius:inherit;background:linear-gradient(90deg,var(--accent),#7dd3fc,var(--accent));box-shadow:0 0 12px #3b82f699;transform-origin:left center}.scale-bar-wrapper[_ngcontent-%COMP%]:before, .scale-bar-wrapper[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;top:50%;width:1px;height:8px;background:#fff6;transform:translateY(-50%)}.scale-bar-wrapper[_ngcontent-%COMP%]:before{left:0}.scale-bar-wrapper[_ngcontent-%COMP%]:after{right:0}.scale-text[_ngcontent-%COMP%]{font-style:italic;color:var(--text-soft)}@media (max-width: 1200px){.solar-system-layout[_ngcontent-%COMP%]{gap:16px}.right-pane[_ngcontent-%COMP%]{max-width:320px}}@media (max-width: 1024px){.solar-system-layout[_ngcontent-%COMP%]{flex-direction:column}.left-pane[_ngcontent-%COMP%]{order:1}.right-pane[_ngcontent-%COMP%]{order:2;max-width:100%}.solar-system-svg[_ngcontent-%COMP%]{margin-inline:auto}.scale-container[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 768px){.controls[_ngcontent-%COMP%]{padding:3px;gap:4px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:5px 10px}.solar-system-svg[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 480px){.solar-system-layout[_ngcontent-%COMP%]{gap:12px}.controls[_ngcontent-%COMP%]{border-radius:var(--radius-md)}.scale-container[_ngcontent-%COMP%]{font-size:11px}}.solar-system-svg[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent);outline-offset:4px}button[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent);outline-offset:2px}\"]\n      });\n    }\n  }\n  return SolarSystemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}